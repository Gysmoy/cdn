class gImage{static blobToBase64=async(t,e=()=>{})=>new Promise((a,l)=>{let s=new FileReader;s.onloadend=()=>{e(s.result),a(s.result)},s.readAsDataURL(t)});static async compress({blob:t,full_length:e=1e3,mini_length:a=100,callback:l=()=>{}}){let s=!0,n=t.type,o=null,c=null;try{let r=new Image;r.width=e,r.height=e,r.src=await this.blobToBase64(t),r.style.objectFit="cover",r.style.objectPosition="center center",await r.onload;let i=document.createElement("canvas");i.width=e,i.height=e,i.style.objectFit="cover",i.style.objectPosition="center center";i.getContext("2d").drawImage(r,0,0,e,e),o=i.toDataURL(n).split(",")[1];let d=document.createElement("canvas");d.width=a,d.height=a;d.getContext("2d").drawImage(r,0,0,a,a),c=d.toDataURL(n).split(",")[1]}catch(h){console.error(h),s=!1}finally{return l({ok:s,image_type:n,image_full:o,image_mini:c}),{ok:s,image_type:n,image_full:o,image_mini:c}}}}